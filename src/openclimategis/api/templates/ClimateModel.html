{% extends "base.html" %}

{% block title %}
    {{ block.super }}
    <h2>Climate Models</h2>
{% endblock title %}

{% block content %}
    <table border="1">
    <tbody>
    {% ifequal data|length 1 %}
        {% comment %}Create table for a single Climate Model{% endcomment %}
        {% for listitem in data %}
            <tr>
                <th>Code</th>
                <td>{{ listitem.code}}</td>
            </tr>
            <tr>
                <th>Model Name</th>
                <td>{{ listitem.name }}</td>
            </tr>
            <tr>
                <th>URL Slug</th>
                <td>{{ listitem.urlslug }}</td>
            </tr>
            <tr>
                <th>Organization</th>
                <td>{{ listitem.organization.name }}</td>
            </tr>
            <tr>
                <th>URL</th>
                <td>{{ listitem.url }}</td>
            </tr>
        {% endfor %}
    {% else %}
        {% comment %}Create table for a list of Climate Models{% endcomment %}
        <tr>
            <th>Code</th>
            <th>Model Name</th>
            <th>Organization</th>
        </tr>
        {% for listitem in data|dictsort:"code" %}
        <tr>
            <td><a href="{% url single_climatemodel code=listitem.code %}">{{ listitem.code }}</a></td>
            <td>{{ listitem.name }}</td>
            <td>{{ listitem.organization.name }}</td>
        </td></tr>
        {% endfor %}
    {% endifequal %}
    </tbody>
    </table>
{% endblock content %}